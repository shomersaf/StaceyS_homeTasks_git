var CURRENT = {
  courseNum: null,
  courseName: null,
  coursePrice: null,
  startDate: null,
  endDate: null,
  lecture: null,
};
let courses = [];
let counter = 1;
let index = 0;
const container = document.querySelector(".container");
const table = document.createElement("table");
container.appendChild(table);
const tHead = document.createElement("thead");
table.appendChild(tHead);

const th1 = document.createElement("th");
th1.innerText = "N#";

const th2 = document.createElement("th");
th2.innerText = "Name";

const th3 = document.createElement("th");
th3.innerText = "Price";

const th4 = document.createElement("th");
th4.innerText = "Start Date";

const th5 = document.createElement("th");
th5.innerText = "End Date";

const th6 = document.createElement("th");
th6.innerText = "Lecture";

const th7 = document.createElement("th");
th7.innerText = "Action";

tHead.append(th1, th2, th3, th4, th5, th6, th7);
const tBody = document.createElement("tbody");
table.appendChild(tBody);
table.style.display = "none";

const sendButton = document.querySelector(".sendButton");
sendButton.addEventListener("click", generateTBody);

const clearButton = document.querySelector(".clearButton");
clearButton.addEventListener("click", clearForm);


CURRENT.courseNum = counter;
CURRENT.courseName = document.querySelector("#courseName");
CURRENT.coursePrice = document.querySelector("#coursePrice");
CURRENT.startDate = document.querySelector("#startDate");
CURRENT.endDate = document.querySelector("#endDate");
CURRENT.lecture = document.querySelector("#lecture");
 
  
 
  courses.push(
      
    CURRENT.courseNum,
    CURRENT.courseName.value,
    CURRENT.coursePrice.value,
    CURRENT.startDate.value,
    CURRENT.endDate.value,
    CURRENT.lecture.value
  );

function generateTBody() {
  //if (
    /*CURRENT.courseName.value &&
    CURRENT.coursePrice.value &&
    CURRENT.startDate.value &&
    CURRENT.endDate.value &&
    CURRENT.lecture.value */
 // ) {
    table.style.display = "table";
     
     
    
    drawRow();
    clearForm();
  }
//}

function clearForm(event) {
  CURRENT.courseNum = 0;
  CURRENT.courseName.value = "";
  CURRENT.coursePrice.value = "";
  CURRENT.startDate.value = "";
  CURRENT.endDate.value = "";
  CURRENT.lecture.value = "";
}



function drawRow() {
  var tRow = document.createElement("tr");
  
  const tData1 = document.createElement("td");
  const tData1Div1 = document.createElement("div");
  tData1Div1.className = "visibility1";
  const tData1Div2 = document.createElement("div");
  tData1Div2.className = "visibility2";
  tData1.append(tData1Div1, tData1Div2);

  const tData2 = document.createElement("td");
  const tData2Div1 = document.createElement("div");
  tData2Div1.className = "visibility1";
  const tData2Div2 = document.createElement("div");
  tData2Div2.className = "visibility2";
  tData2.append(tData2Div1, tData2Div2);

  const tData3 = document.createElement("td");
  const tData3Div1 = document.createElement("div");
  tData3Div1.className = "visibility1";
  const tData3Div2 = document.createElement("div");
  tData3Div2.className = "visibility2";
  tData3.append(tData3Div1, tData3Div2);

  const tData4 = document.createElement("td");
  const tData4Div1 = document.createElement("div");
  tData4Div1.className = "visibility1";
  const tData4Div2 = document.createElement("div");
  tData4Div2.className = "visibility2";
  tData4.append(tData4Div1, tData4Div2);

  const tData5 = document.createElement("td");
  const tData5Div1 = document.createElement("div");
  tData5Div1.className = "visibility1";
  const tData5Div2 = document.createElement("div");
  tData5Div2.className = "visibility2";
  tData5.append(tData5Div1, tData5Div2);

  const tData6 = document.createElement("td");
  const tData6Div1 = document.createElement("div");
  tData6Div1.className = "visibility1";
  const tData6Div2 = document.createElement("div");
  tData6Div2.className = "visibility2";
  tData6.append(tData6Div1, tData6Div2);

  const tData7 = document.createElement("td");
  const tData7Div1 = document.createElement("div");
  tData7Div1.className = "visibility1";
  const tData7Div2 = document.createElement("div");
  tData7Div2.className = "visibility2";
  tData7.append(tData7Div1, tData7Div2);


  const delRowButton = document.createElement("button");
  delRowButton.className = "delRowButton";
  delRowButton.innerText = " X ";
  delRowButton.addEventListener("click", deleteRow);
  tData7Div1.append(delRowButton);
  const editButton = document.createElement("button");
  editButton.className = "editButton";
  editButton.innerText = " edit ";
  tData7Div1.append(editButton);
 
  tData1Div1.innerText = counter++;  
  tData2Div1.innerText = CURRENT.courseName.value;
  tData3Div1.innerText = CURRENT.coursePrice.value;
  tData4Div1.innerText = CURRENT.startDate.value;
  tData5Div1.innerText = CURRENT.endDate.value;
  tData6Div1.innerText = CURRENT.lecture.value;

 
  tRow.append(tData1, tData2, tData3, tData4, tData5, tData6, tData7);
  let currentRow =[];
  currentRow.push(tRow);
  tBody.append(tRow);
  //tBody.append(currentRow[index]);
  index++;
  return tRow;
  
}

function deleteRow(tRow) { 

courses.splice(counter-1, 5);
tRow.innerHTML = "";
//tBody.remove(tRow);
drawRow();
}